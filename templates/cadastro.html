{% extends "base.html" %}
{% block content %}
<div class="container" style="margin: 60px 15px 100px 15px;">
  <h2 style="text-align: center; margin-bottom: 20px; font-size: 1.5rem;">üìã Novo Cadastro</h2>
  <form action="/salvar_cadastro" method="POST" enctype="multipart/form-data" class="form-cadastro">

    <input type="text" name="nome" placeholder="Nome do Contato" required>
    <input type="text" name="nome_fantasia" placeholder="Nome Fantasia / Loja">

    <div class="input-group">
      <input type="text" name="cep" placeholder="CEP" id="cep">
      <input type="text" name="endereco" placeholder="Endere√ßo completo" id="endereco">
    </div>

    <div class="input-group">
      <input type="text" name="telefone" placeholder="Telefone">
      <input type="text" name="whatsapp" placeholder="WhatsApp">
    </div>

    <input type="text" name="site" placeholder="Site ou Rede Social">

    <h4>Produtos que Trabalha</h4>
    <div class="checkboxes">
      {% for produto in ['Capacete', 'Luvas', 'Jaquetas', 'Macac√£o', 'Intercomunicador', 'Oficina'] %}
        <label><input type="checkbox" name="produtos" value="{{ produto }}"> {{ produto }}</label>
      {% endfor %}
    </div>

    <h4>Marcas</h4>
    <input type="text" name="marcas" placeholder="Ex: Nolan, LS2, Shoei">
    <input type="text" name="novas_marcas" placeholder="Outras marcas (opcional)">

    <h4>Observa√ß√µes</h4>
    <textarea name="info_extra" rows="3" placeholder="Informa√ß√µes adicionais..."></textarea>

    <h4>Fotos (at√© 4)</h4>
    <input type="file" name="foto1">
    <input type="file" name="foto2">
    <input type="file" name="foto3">
    <input type="file" name="foto4">

    <h4>Agendar Retorno</h4>
    <input type="date" name="proxima_visita">

    <button type="submit" class="btn-primary">‚úÖ Salvar Cadastro</button>
    <a href="/" class="btn-cancelar">‚¨ÖÔ∏è Voltar para In√≠cio</a>
  </form>
</div>

<!-- Navbar -->
<div class="bottom-navbar">
  <a href="/cadastro">üìã</a>
  <a href="/clientes">ü§ù</a>
  <a href="/agenda">üìÖ</a>
</div>

<!-- Dark Mode -->
<button class="dark-toggle" onclick="toggleDark()">üåô</button>
<script>
  const toggleDark = () => {
    document.body.classList.toggle("dark");
    localStorage.setItem("darkmode", document.body.classList.contains("dark"));
  };
  window.onload = () => {
    if (localStorage.getItem("darkmode") === "true") {
      document.body.classList.add("dark");
    }
  };
</script>

<style>
  .form-cadastro input,
  .form-cadastro textarea,
  .form-cadastro select,
  .form-cadastro button {
    width: 100%;
    max-width: 100%;
    padding: 10px;
    margin-bottom: 12px;
    border-radius: 10px;
    border: 1px solid #ccc;
    font-size: 1rem;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
  }

  .form-cadastro h4 {
    margin-top: 20px;
    font-size: 1rem;
    color: #444;
  }

  .form-cadastro .checkboxes {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 15px;
  }

  .form-cadastro .checkboxes label {
    background: #f0f0f0;
    padding: 6px 10px;
    border-radius: 8px;
    font-size: 0.9rem;
  }

  .input-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  @media (min-width: 600px) {
    .input-group {
      flex-direction: row;
    }
  }

  .bottom-navbar {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: #222;
    padding: 12px 0;
    display: flex;
    justify-content: space-around;
    z-index: 999;
  }

  .bottom-navbar a {
    color: white;
    font-size: 1.5rem;
    text-decoration: none;
  }

  .dark-toggle {
    position: fixed;
    bottom: 70px;
    right: 20px;
    background: #222;
    color: white;
    border: none;
    border-radius: 50%;
    padding: 12px;
    font-size: 1.2rem;
    z-index: 1000;
    cursor: pointer;
  }

  body.dark {
    background: #121212;
    color: #f1f1f1;
  }

  body.dark input,
  body.dark textarea,
  body.dark select {
    background: #1e1e1e;
    color: white;
    border-color: #444;
  }

  body.dark .bottom-navbar {
    background: #000;
  }

  body.dark .dark-toggle {
    background: #444;
  }
</style>
{% endblock %}
